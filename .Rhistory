pGZ.1 = ggplot(pGZa, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
# coord_cartesian(ylim= c(0,1)) +
geom_point(data=dat.bites.graz, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# scale_fill_manual(values=c("seagreen", "orange")) +
# scale_colour_manual(values=c("seagreen", "orange")) +
coord_cartesian(ylim = c(0,1)) +
scale_fill_viridis_d(begin =0.5) +
# scale_y_log10() +
scale_colour_viridis_d(begin = 0.5) +
theme(legend.position = "bottom",axis.title.x = element_blank(),axis.title.y = element_text(family="sans")) +
# facet_wrap(~species, scales = "free_y", ncol = 1) +
ylab(expression(Number~of~bites~hr^{"-1"}~"\U00B1"~"95% quantile intervals"))
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
g
#Now Plot
pGZ.1 = ggplot(pGZa, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
# coord_cartesian(ylim= c(0,1)) +
geom_point(data=dat.bites.graz, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# scale_fill_manual(values=c("seagreen", "orange")) +
# scale_colour_manual(values=c("seagreen", "orange")) +
# coord_cartesian(ylim = c(0,1)) +
scale_fill_viridis_d(begin =0.5) +
# scale_y_log10() +
scale_colour_viridis_d(begin = 0.5) +
theme(legend.position = "bottom",axis.title.x = element_blank(),axis.title.y = element_text(family="sans")) +
# facet_wrap(~species, scales = "free_y", ncol = 1) +
ylab(expression(Number~of~bites~hr^{"-1"}~"\U00B1"~"95% quantile intervals"))
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
g
#Now Plot
pGZ.1 = ggplot(pGZa, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
# coord_cartesian(ylim= c(0,1)) +
geom_point(data=dat.bites.graz, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# scale_fill_manual(values=c("seagreen", "orange")) +
# scale_colour_manual(values=c("seagreen", "orange")) +
coord_cartesian(ylim = c(0,10)) +
scale_fill_viridis_d(begin =0.5) +
# scale_y_log10() +
scale_colour_viridis_d(begin = 0.5) +
theme(legend.position = "bottom",axis.title.x = element_blank(),axis.title.y = element_text(family="sans")) +
# facet_wrap(~species, scales = "free_y", ncol = 1) +
ylab(expression(Number~of~bites~hr^{"-1"}~"\U00B1"~"95% quantile intervals"))
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
p1_ZI2 = dat.bites.mod2 %>%
modelr::data_grid(bite_on, species, site) %>%
add_epred_draws(mod.brms.All2_ZI.3, re_formula = NULL,  ndraws=1000) %>%
mutate(.epred = .epred/3)
p2_ZI2 = dat.bites.mod2 %>%
modelr::data_grid(bite_on,species, site) %>%
add_epred_draws(mod.brms.All2_ZI.3, re_formula = NULL, ndraws=100)  %>%
compare_levels(.epred, by = bite_on) %>%
mutate(.epred = .epred/3)
p2_ZI2a = mod.brms.All2_ZI.3 %>% emmeans(~ bite_on|species, type="response") %>%
gather_emmeans_draws(type="response") %>%
mutate(.value = exp(.value)/3, habitat = "Crest")
p2_ZI2b = p2_ZI2a %>% compare_levels(.value, by = bite_on) %>%
mutate( habitat = "Crest")
#Now Plot
pAll2.1 = ggplot(p2_ZI2a, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
# coord_cartesian(ylim= c(0,100)) +
geom_point(data=dat.bites.mod2, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# stat_gradientinterval(position = "dodge") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
scale_fill_manual(values=c("seagreen", "orange")) +
scale_colour_manual(values=c("seagreen", "orange")) +
coord_cartesian(ylim = c(0,5)) +
# scale_fill_viridis_d() +
# scale_y_log10() +
# scale_colour_viridis_d() +
theme(legend.position = "bottom",axis.title.x = element_blank(),axis.title.y = element_text(family="sans")) +
facet_wrap(~species, scales = "free_y", ncol = 1) +
ylab(expression(Number~of~bites~hr^{"-1"}~"\U00B1"~"95% quantile intervals"))
pAll2.2 = ggplot(p2_ZI2b, aes(x = .value, y = habitat)) +
# stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
# stat_interval(alpha=0.7,.width = c(.50, .80, .95, .99)) +
# stat_interval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
stat_pointinterval(alpha=0.7, .width = c(0.66, 0.95)) +
theme_bw(base_size = 12) +
geom_vline(xintercept=0, linetype="dashed") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
# scale_x_log10() +
theme(legend.position = "right", axis.title.y = element_blank(),
axis.title.x = element_blank()) +
facet_wrap(~species, scales="free", ncol=1)
# coord_cartesian(xlim = c(-20,500)) +
# geom_vline(xintercept=0, linetype="dashed") +
# facet_wrap(~habitat, ncol = 1) +
# ylab("Difference in proportion of propagules \nremaining (Caged-Exposed)")
egg::ggarrange(pAll2.1, pAll2.2, ncol=2, widths = c(1.2,1))
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
g
#Now Plot
pGZ.1 = ggplot(pGZa, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
# coord_cartesian(ylim= c(0,1)) +
geom_point(data=dat.bites.graz, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# scale_fill_manual(values=c("seagreen", "orange")) +
# scale_colour_manual(values=c("seagreen", "orange")) +
coord_cartesian(ylim = c(0,10)) +
scale_fill_viridis_d(begin =0.5) +
# scale_y_log10() +
scale_colour_viridis_d(begin = 0.5) +
theme(legend.position = "bottom",axis.title.x = element_blank(),axis.title.y = element_text(family="sans")) +
# facet_wrap(~species, scales = "free_y", ncol = 1) +
ylab(expression(Number~of~bites~hr^{"-1"}~"\U00B1"~"95% quantile intervals"))
pGZ.2 = ggplot(pGZb, aes(x = .value, y = habitat)) +
# stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
# stat_interval(alpha=0.7,.width = c(.50, .80, .95, .99)) +
# stat_interval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
stat_pointinterval(alpha=0.7, .width = c(0.66, 0.95)) +
theme_bw(base_size = 12) +
geom_vline(xintercept=0, linetype="dashed") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
# scale_x_log10() +
theme(legend.position = "right", axis.title.y = element_blank(),
axis.title.x = element_blank()) +
# facet_wrap(~species, scales="free", ncol=1)
# coord_cartesian(xlim = c(-20,500)) +
# geom_vline(xintercept=0, linetype="dashed") +
# facet_wrap(~habitat, ncol = 1) +
ylab("Difference in proportion of propagules \nremaining (Caged-Exposed)")
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
g
#Now Plot
pGZ.1 = ggplot(pGZa, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
# coord_cartesian(ylim= c(0,1)) +
geom_point(data=dat.bites.graz, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# scale_fill_manual(values=c("seagreen", "orange")) +
# scale_colour_manual(values=c("seagreen", "orange")) +
coord_cartesian(ylim = c(0,10)) +
scale_fill_viridis_d(begin =0.5,labels = c("Algal turf with \nSargassum propagules",
"Algal turf without \nSargassum propagules")) +
# scale_y_log10() +
scale_colour_viridis_d(begin = 0.5) +
theme(legend.position = "bottom",axis.title.x = element_blank(),axis.title.y = element_text(family="sans")) +
# facet_wrap(~species, scales = "free_y", ncol = 1) +
ylab(expression(Number~of~bites~hr^{"-1"}~"\U00B1"~"95% quantile intervals"))
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
g
#Now Plot
pGZ.1 = ggplot(pGZa, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
# coord_cartesian(ylim= c(0,1)) +
geom_point(data=dat.bites.graz, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# scale_fill_manual(values=c("seagreen", "orange")) +
# scale_colour_manual(values=c("seagreen", "orange")) +
coord_cartesian(ylim = c(0,10)) +
scale_fill_viridis_d(begin =0.5,labels = c("Algal turf with \nSargassum propagules",
"Algal turf without \nSargassum propagules")) +
# scale_y_log10() +
scale_colour_viridis_d(begin = 0.5,labels = c("Algal turf with \nSargassum propagules",
"Algal turf without \nSargassum propagules")) +
theme(legend.position = "bottom",axis.title.x = element_blank(),axis.title.y = element_text(family="sans")) +
# facet_wrap(~species, scales = "free_y", ncol = 1) +
ylab(expression(Number~of~bites~hr^{"-1"}~"\U00B1"~"95% quantile intervals"))
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
g
#Now Plot
pGZ.1 = ggplot(pGZa, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
# coord_cartesian(ylim= c(0,1)) +
geom_point(data=dat.bites.graz, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# scale_fill_manual(values=c("seagreen", "orange")) +
# scale_colour_manual(values=c("seagreen", "orange")) +
coord_cartesian(ylim = c(0,10)) +
scale_fill_viridis_d(begin =0.5,labels = c("Algal turf with \nSargassum propagules",
"Algal turf without \nSargassum propagules")) +
# scale_y_log10() +
scale_colour_viridis_d(begin = 0.5,labels = c("Algal turf with \nSargassum propagules",
"Algal turf without \nSargassum propagules")) +
theme(legend.position = "bottom",axis.title.x = element_blank(),axis.title.y = element_text(family="sans"),
legend.title = element_blank()) +
# facet_wrap(~species, scales = "free_y", ncol = 1) +
ylab(expression(Number~of~bites~hr^{"-1"}~"\U00B1"~"95% quantile intervals"))
pGZ.2 = ggplot(pGZb, aes(x = .value, y = habitat)) +
# stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
# stat_interval(alpha=0.7,.width = c(.50, .80, .95, .99)) +
# stat_interval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
stat_pointinterval(alpha=0.7, .width = c(0.66, 0.95)) +
theme_bw(base_size = 12) +
geom_vline(xintercept=0, linetype="dashed") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
# scale_x_log10() +
theme(legend.position = "right", axis.title.y = element_blank()) +
# facet_wrap(~species, scales="free", ncol=1)
# coord_cartesian(xlim = c(-20,500)) +
# geom_vline(xintercept=0, linetype="dashed") +
# facet_wrap(~habitat, ncol = 1) +
ylab("Difference in proportion of propagules \nremaining (Caged-Exposed)")
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
g
pGZ.2 = ggplot(pGZb, aes(x = .value, y = habitat)) +
# stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
# stat_interval(alpha=0.7,.width = c(.50, .80, .95, .99)) +
# stat_interval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
stat_pointinterval(alpha=0.7, .width = c(0.66, 0.95)) +
theme_bw(base_size = 12) +
geom_vline(xintercept=0, linetype="dashed") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
# scale_x_log10() +
theme(legend.position = "right", axis.title.y = element_blank(),
axis.title.x = element_blank()) +
# facet_wrap(~species, scales="free", ncol=1)
# coord_cartesian(xlim = c(-20,500)) +
# geom_vline(xintercept=0, linetype="dashed") +
# facet_wrap(~habitat, ncol = 1) +
xlab("Difference in proportion of propagules \nremaining (Caged-Exposed)")
pGZ.2
pGZ.2 = ggplot(pGZb, aes(x = .value, y = habitat)) +
# stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
# stat_interval(alpha=0.7,.width = c(.50, .80, .95, .99)) +
# stat_interval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
stat_pointinterval(alpha=0.7, .width = c(0.66, 0.95)) +
theme_bw(base_size = 12) +
geom_vline(xintercept=0, linetype="dashed") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
# scale_x_log10() +
theme(legend.position = "right", axis.title.y = element_blank()) +
# facet_wrap(~species, scales="free", ncol=1)
# coord_cartesian(xlim = c(-20,500)) +
# geom_vline(xintercept=0, linetype="dashed") +
# facet_wrap(~habitat, ncol = 1) +
xlab("Difference in proportion of propagules \nremaining (Caged-Exposed)")
pGZ.2
pGZ.2 = ggplot(pGZb, aes(x = .value, y = habitat)) +
# stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
# stat_interval(alpha=0.7,.width = c(.50, .80, .95, .99)) +
# stat_interval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
stat_pointinterval(alpha=0.7, .width = c(0.66, 0.95)) +
theme_bw(base_size = 12) +
geom_vline(xintercept=0, linetype="dashed") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
# scale_x_log10() +
theme(legend.position = "right", axis.title.y = element_blank()) +
# facet_wrap(~species, scales="free", ncol=1)
# coord_cartesian(xlim = c(-20,500)) +
# geom_vline(xintercept=0, linetype="dashed") +
# facet_wrap(~habitat, ncol = 1) +
xlab("Difference in bitess \n(Caged-Exposed)")
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
g
#Now Plot
pGZ.1 = ggplot(pGZa, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
# coord_cartesian(ylim= c(0,1)) +
geom_point(data=dat.bites.graz, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# scale_fill_manual(values=c("seagreen", "orange")) +
# scale_colour_manual(values=c("seagreen", "orange")) +
coord_cartesian(ylim = c(0,10)) +
scale_fill_viridis_d(begin =0.5,labels = c("Algal turf with \nSargassum propagules",
"Algal turf without \nSargassum propagules")) +
# scale_y_log10() +
scale_colour_viridis_d(begin = 0.5,labels = c("Algal turf with \nSargassum propagules",
"Algal turf without \nSargassum propagules")) +
theme(legend.position = "bottom",axis.title.x = element_blank(),axis.title.y = element_text(family="sans"),
legend.title = element_blank(),legend.margin=margin(-10, 0, 0, 0)) +
# facet_wrap(~species, scales = "free_y", ncol = 1) +
ylab(expression(Number~of~bites~hr^{"-1"}~"\U00B1"~"95% quantile intervals"))
pGZ.2 = ggplot(pGZb, aes(x = .value, y = habitat)) +
# stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
# stat_interval(alpha=0.7,.width = c(.50, .80, .95, .99)) +
# stat_interval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
stat_pointinterval(alpha=0.7, .width = c(0.66, 0.95)) +
theme_bw(base_size = 12) +
geom_vline(xintercept=0, linetype="dashed") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
# scale_x_log10() +
theme(legend.position = "right", axis.title.y = element_blank(),legend.margin=margin(-5, 0, 0, 0)) +
# facet_wrap(~species, scales="free", ncol=1)
# coord_cartesian(xlim = c(-20,500)) +
# geom_vline(xintercept=0, linetype="dashed") +
# facet_wrap(~habitat, ncol = 1) +
xlab("Difference in bites \n(Caged-Exposed)")
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
g
#Now Plot
pGZ.1 = ggplot(pGZa, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
# coord_cartesian(ylim= c(0,1)) +
geom_point(data=dat.bites.graz, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# scale_fill_manual(values=c("seagreen", "orange")) +
# scale_colour_manual(values=c("seagreen", "orange")) +
coord_cartesian(ylim = c(0,10)) +
scale_fill_viridis_d(end  =0.7,labels = c("Algal turf with \nSargassum propagules",
"Algal turf without \nSargassum propagules")) +
# scale_y_log10() +
scale_colour_viridis_d(end = 0.7,labels = c("Algal turf with \nSargassum propagules",
"Algal turf without \nSargassum propagules")) +
theme(legend.position = "bottom",axis.title.x = element_blank(),axis.title.y = element_text(family="sans"),
legend.title = element_blank(),legend.margin=margin(-10, 0, 0, 0)) +
# facet_wrap(~species, scales = "free_y", ncol = 1) +
ylab(expression(Number~of~bites~hr^{"-1"}~"\U00B1"~"95% quantile intervals"))
pGZ.2 = ggplot(pGZb, aes(x = .value, y = habitat)) +
# stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
# stat_interval(alpha=0.7,.width = c(.50, .80, .95, .99)) +
# stat_interval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
stat_pointinterval(alpha=0.7, .width = c(0.66, 0.95)) +
theme_bw(base_size = 12) +
geom_vline(xintercept=0, linetype="dashed") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
# scale_x_log10() +
theme(legend.position = "right", axis.title.y = element_blank(),legend.margin=margin(-5, 0, 0, 0)) +
# facet_wrap(~species, scales="free", ncol=1)
# coord_cartesian(xlim = c(-20,500)) +
# geom_vline(xintercept=0, linetype="dashed") +
# facet_wrap(~habitat, ncol = 1) +
xlab("Difference in bites \n(Caged-Exposed)")
g=egg::ggarrange(pGZ.1, pGZ.2, ncol=2, widths = c(1.2,1))
g
ggsave("Figures/Grazers.png", plot = g, device = "png",
width = 8, height = 5, dpi=300)
ggsave("Figures/Grazers.pdf", plot = g, device = cairo_pdf,
width = 8, height = 5, dpi=300)
ggsave("Figures/Grazers.svg", plot = g, device = "svg",
width = 8, height = 5, dpi=300)
ggsave("Figures/Grazers.pdf", plot = g, device = cairo_pdf,
width = 8, height = 5, dpi=300)
save.image("~/GitHub/Hoeyetal2021_Survival/.RData")
View(dat.bites.graz)
View(dat.bites.graz2)
View(dat.bites.graz2)
# Ecsenius stictus---
pESa = mod.brms.ES.2 %>% emmeans(~ bite_on|habitat, type="response") %>%
gather_emmeans_draws(type="response") %>%
mutate(.value = exp(.value))
library(tidyverse)
library(tidybayes)
egg::ggarrange(pES.1, pES.2,ncol=2, widths = c(1.2,1))
# Ecsenius stictus---
pESa = mod.brms.ES %>% emmeans(~ bite_on|habitat, type="response") %>%
gather_emmeans_draws(type="response") %>%
mutate(.value = exp(.value))
library(emmeans)
# Ecsenius stictus---
pESa = mod.brms.ES %>% emmeans(~ bite_on|habitat, type="response") %>%
gather_emmeans_draws(type="response") %>%
mutate(.value = exp(.value))
pESb = pESa %>% compare_levels(.value, by = bite_on) %>%
mutate(species = "Ecsenius stictus")
pES.1 = ggplot(pESa, aes(y = (.value), x=habitat, fill = bite_on)) +
theme_bw(base_size = 12) +
stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95)) +
coord_cartesian(ylim= c(0,350)) +
geom_point(data=dat.bites.spmodES2, aes(y=(TotalBites/3), x=habitat, colour=bite_on),
position = position_jitterdodge(jitter.width = 0.1),pch=1) +
stat_pointinterval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.66, 0.95)) +
# stat_gradientinterval(position = "dodge") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
scale_fill_manual(values=c("seagreen", "orange")) +
scale_colour_manual(values=c("seagreen", "orange")) +
# scale_fill_viridis_d() +
# scale_y_log10() +
# scale_colour_viridis_d() +
theme(legend.position = "none",axis.title.x = element_blank(),axis.title.y = element_blank()) +
facet_wrap(~species, scales = "free_y", ncol = 1)
pES.2 = ggplot(pESb, aes(x = .value, y = habitat)) +
# stat_eye(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
# stat_interval(alpha=0.7,.width = c(.50, .80, .95, .99)) +
# stat_interval(alpha=0.7, position = position_dodge(width = 0.7), .width = c(0.5, 0.95),side = "bottom") +
stat_pointinterval(alpha=0.7, .width = c(0.66, 0.95)) +
theme_bw(base_size = 12) +
geom_vline(xintercept=0, linetype="dashed") +
# scale_y_continuous(breaks = c(0.25, 0.5,0.75,1,1.25), limits = c(0.25,1.5)) +
# scale_x_log10() +
theme(legend.position = "none", axis.title.y = element_blank(),axis.text.y = element_blank(),
axis.title.x = element_blank()) +
facet_grid(habitat~species, scales = "free")
egg::ggarrange(pES.1, pES.2,ncol=2, widths = c(1.2,1))
# Ecsenius stictus---
pESa = mod.brms.ES.2 %>% emmeans(~ bite_on|habitat, type="response") %>%
gather_emmeans_draws(type="response") %>%
mutate(.value = exp(.value))
# Fit without adding zeros back in
mod.brms.PO.2 = brm(formula =TotalBites ~ bite_on*habitat + (1|id/Date),
data=dat.bites.spmodPO, family="negbinomial", sample_prior = T,
prior = c(prior(normal(0, 5), class = "Intercept"),
prior(normal(0, 5), class = "b"),
prior(normal(0,5), class = "sd"),
prior(gamma(0.1, 0.1), class = "shape")),
warmup = 200, iter = 2000, chains = 3, cores = 3, thin=2,
control = list(adapt_delta = 0.98))
library(brms)
# Fit without adding zeros back in
mod.brms.PO.2 = brm(formula =TotalBites ~ bite_on*habitat + (1|id/Date),
data=dat.bites.spmodPO, family="negbinomial", sample_prior = T,
prior = c(prior(normal(0, 5), class = "Intercept"),
prior(normal(0, 5), class = "b"),
prior(normal(0,5), class = "sd"),
prior(gamma(0.1, 0.1), class = "shape")),
warmup = 200, iter = 2000, chains = 3, cores = 3, thin=2,
control = list(adapt_delta = 0.98))
mod.brms.CS.2 = brm(formula =TotalBites ~ bite_on+ (1|id/Date),
data=dat.bites.spmodCS, family="negbinomial", sample_prior = T,
prior = c(prior(normal(0, 5), class = "Intercept"),
prior(normal(0, 5), class = "b"),
prior(normal(0,5), class = "sd"),
prior(gamma(0.1, 0.1), class = "shape")),
warmup = 200, iter = 2000, chains = 3, cores = 3, thin=2,
control = list(adapt_delta = 0.98))
gc()
tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 10)
tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20)
rm(list=tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20))
tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20)
rm(list=tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20))
rm(list=tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20))
warnings()
tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20)
torm = tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20)
rm(list=torm)
gc()
load("~/GitHub/Hoeyetal2021_Survival/.RData")
torm = tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20)
rm(list=torm)
torm = names(tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20))
rm(list=torm)
torm = names(tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20))
rm(list=torm)
torm = names(tail(sort( sapply(ls(),function(x){object.size(get(x))})),n = 20))
rm(list=torm)
gc()
apropos("p", 1)
objects(p,1)
objects(pos=1, pattern = "p")
torm = objects(pos=1, pattern = "p")[21:70]
rm(list=torm)
gc()
load("~/GitHub/Hoeyetal2021_Survival/.RData")
objects(pos=1, pattern = "p")
torm = objects(pos=1, pattern = "p")[30:98]
# Fit without adding zeros back in
mod.brms.PO.2 = brm(formula =TotalBites ~ bite_on*habitat + (1|id/Date),
data=dat.bites.spmodPO, family="negbinomial", sample_prior = T,
prior = c(prior(normal(0, 5), class = "Intercept"),
prior(normal(0, 5), class = "b"),
prior(normal(0,5), class = "sd"),
prior(gamma(0.1, 0.1), class = "shape")),
warmup = 200, iter = 2000, chains = 3, cores = 3, thin=2,
control = list(adapt_delta = 0.95))
library(brms)
# Fit without adding zeros back in
mod.brms.PO.2 = brm(formula =TotalBites ~ bite_on*habitat + (1|id/Date),
data=dat.bites.spmodPO, family="negbinomial", sample_prior = T,
prior = c(prior(normal(0, 5), class = "Intercept"),
prior(normal(0, 5), class = "b"),
prior(normal(0,5), class = "sd"),
prior(gamma(0.1, 0.1), class = "shape")),
warmup = 200, iter = 2000, chains = 3, cores = 3, thin=2,
control = list(adapt_delta = 0.95))
install.packages("rstan")
install.packages("brms")
install.packages("brms")
install.packages("brms")
install.packages("rstan")
install.packages("rstan")
library(brms)
install.packages("brms")
library(brms)
# Fit without adding zeros back in
mod.brms.PO.2 = brm(formula =TotalBites ~ bite_on*habitat + (1|id/Date),
data=dat.bites.spmodPO, family="negbinomial", sample_prior = T,
prior = c(prior(normal(0, 5), class = "Intercept"),
prior(normal(0, 5), class = "b"),
prior(normal(0,5), class = "sd"),
prior(gamma(0.1, 0.1), class = "shape")),
warmup = 200, iter = 2000, chains = 3, cores = 3, thin=2,
control = list(adapt_delta = 0.98))
library(brms)
# Fit without adding zeros back in
mod.brms.PO.2 = brm(formula =TotalBites ~ bite_on*habitat + (1|id/Date),
data=dat.bites.spmodPO, family="negbinomial", sample_prior = T,
prior = c(prior(normal(0, 5), class = "Intercept"),
prior(normal(0, 5), class = "b"),
prior(normal(0,5), class = "sd"),
prior(gamma(0.1, 0.1), class = "shape")),
warmup = 200, iter = 2000, chains = 3, cores = 3, thin=2,
control = list(adapt_delta = 0.98))
